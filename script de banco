CREATE TABLE books (
    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
	name	varchar(255)
);
CREATE TABLE lessons (
	id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
	name	varchar(255),
	book_id	INT,
	created DATETIME DEFAULT NULL,
    modified DATETIME DEFAULT NULL
);
CREATE TABLE exercises (
	id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
	`name`	varchar(255),
	lesson_id	INTEGER,
	`transition_image`	varchar(255)
);
CREATE TABLE speech_functions (
	id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
	`name`	varchar(255)
);
CREATE TABLE speech_scripts (
	id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
	`text_to_read`	varchar(255),
	`text_to_check`	varchar(255),
	`text_to_show`	varchar(255),
	`speech_function_id`	INTEGER,
	`exercise_id`	INTEGER,
	`script_index`	INTEGER
);
CREATE TABLE users (
	id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
	name	varchar(20) NOT NULL,
	password VARCHAR(255),
    role VARCHAR(20),
	email	varchar(255) NOT NULL,
	code	INTEGER UNIQUE,
	last_completed_lesson	INTEGER, 
	created DATETIME DEFAULT NULL,
    modified DATETIME DEFAULT NULL
);
CREATE TABLE scripts_users(
   
    start_time datetime  NOT NULL,
    finish_time datetime  NOT NULL,
    user_id integer  NOT NULL,
    speech_script_id integer  NOT NULL,
    number_attempts integer  NOT NULL, 
    created DATETIME DEFAULT NULL,
    modified DATETIME DEFAULT NULL,
    PRIMARY KEY(user_id,speech_script_id)
);